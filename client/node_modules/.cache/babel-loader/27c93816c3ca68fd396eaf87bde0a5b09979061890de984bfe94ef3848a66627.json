{"ast":null,"code":"export const addToCart = (items, quantity, varient) => (dispatch, getState) => {\n  const cartItem = {\n    name: items.name,\n    _id: items._id,\n    image: items.image,\n    varient: varient,\n    quantity: Number(quantity),\n    prices: items.prices,\n    price: items.prices[0][varient] * quantity\n  };\n  if (cartItem.quantity > 20) {\n    alert('You cannot add more than 20!');\n  } else {\n    if (cartItem.quantity < 1) {\n      dispatch({\n        type: 'DELETE_FROM_CART',\n        payload: items\n      });\n    } else {\n      const alreadyExists = getState().cartReducer.cartItems.find(item => item._id === cartItem._id && item.varient === varient);\n      if (alreadyExists) {\n        dispatch({\n          type: 'UPDATE_CART_QUANTITY',\n          // Add this line\n          payload: {\n            _id: cartItem._id,\n            quantity: cartItem.quantity,\n            varient: varient\n          }\n        });\n      } else {\n        dispatch({\n          type: 'ADD_TO_CART',\n          payload: cartItem\n        });\n      }\n    }\n  }\n  const cartItems = getState().cartReducer.cartItems;\n  localStorage.setItem('cartItems', JSON.stringify(cartItems));\n};\nexport const deleteFromCart = menu => (dispatch, getState) => {\n  dispatch({\n    type: 'DELETE_FROM_CART',\n    payload: menu\n  });\n  const cartItems = getState().cartReducer.cartItems;\n  localStorage.setItem('cartItems', JSON.stringify(cartItems));\n};","map":{"version":3,"names":["addToCart","items","quantity","varient","dispatch","getState","cartItem","name","_id","image","Number","prices","price","alert","type","payload","alreadyExists","cartReducer","cartItems","find","item","localStorage","setItem","JSON","stringify","deleteFromCart","menu"],"sources":["C:/Users/dell r5/Desktop/MERN-FOOD/client/src/actions/cartActions.js"],"sourcesContent":["\r\nexport const addToCart = (items, quantity, varient) => (dispatch, getState) => {\r\n    const cartItem = {\r\n      name: items.name,\r\n      _id: items._id,\r\n      image: items.image,\r\n      varient: varient,\r\n      quantity: Number(quantity),\r\n      prices: items.prices,\r\n      price: items.prices[0][varient] * quantity,\r\n    };\r\n  \r\n    if (cartItem.quantity > 20) {\r\n      alert('You cannot add more than 20!');\r\n    } else {\r\n      if (cartItem.quantity < 1) {\r\n        dispatch({ type: 'DELETE_FROM_CART', payload: items });\r\n      } else {\r\n        const alreadyExists = getState().cartReducer.cartItems.find(\r\n          (item) => item._id === cartItem._id && item.varient === varient\r\n        );\r\n  \r\n        if (alreadyExists) {\r\n          dispatch({\r\n            type: 'UPDATE_CART_QUANTITY', // Add this line\r\n            payload: { _id: cartItem._id, quantity: cartItem.quantity, varient: varient },\r\n          });\r\n        } else {\r\n          dispatch({ type: 'ADD_TO_CART', payload: cartItem });\r\n        }\r\n      }\r\n    }\r\n  \r\n    const cartItems = getState().cartReducer.cartItems;\r\n    localStorage.setItem('cartItems', JSON.stringify(cartItems));\r\n  };\r\n\r\nexport const deleteFromCart=(menu)=>(dispatch , getState)=>{\r\n    dispatch(\r\n        {\r\n            type:'DELETE_FROM_CART' ,payload:menu\r\n        }\r\n    )\r\n    const cartItems =getState().cartReducer.cartItems\r\n    localStorage.setItem('cartItems', JSON.stringify(cartItems))\r\n\r\n}"],"mappings":"AACA,OAAO,MAAMA,SAAS,GAAGA,CAACC,KAAK,EAAEC,QAAQ,EAAEC,OAAO,KAAK,CAACC,QAAQ,EAAEC,QAAQ,KAAK;EAC3E,MAAMC,QAAQ,GAAG;IACfC,IAAI,EAAEN,KAAK,CAACM,IAAI;IAChBC,GAAG,EAAEP,KAAK,CAACO,GAAG;IACdC,KAAK,EAAER,KAAK,CAACQ,KAAK;IAClBN,OAAO,EAAEA,OAAO;IAChBD,QAAQ,EAAEQ,MAAM,CAACR,QAAQ,CAAC;IAC1BS,MAAM,EAAEV,KAAK,CAACU,MAAM;IACpBC,KAAK,EAAEX,KAAK,CAACU,MAAM,CAAC,CAAC,CAAC,CAACR,OAAO,CAAC,GAAGD;EACpC,CAAC;EAED,IAAII,QAAQ,CAACJ,QAAQ,GAAG,EAAE,EAAE;IAC1BW,KAAK,CAAC,8BAA8B,CAAC;EACvC,CAAC,MAAM;IACL,IAAIP,QAAQ,CAACJ,QAAQ,GAAG,CAAC,EAAE;MACzBE,QAAQ,CAAC;QAAEU,IAAI,EAAE,kBAAkB;QAAEC,OAAO,EAAEd;MAAM,CAAC,CAAC;IACxD,CAAC,MAAM;MACL,MAAMe,aAAa,GAAGX,QAAQ,CAAC,CAAC,CAACY,WAAW,CAACC,SAAS,CAACC,IAAI,CACxDC,IAAI,IAAKA,IAAI,CAACZ,GAAG,KAAKF,QAAQ,CAACE,GAAG,IAAIY,IAAI,CAACjB,OAAO,KAAKA,OAC1D,CAAC;MAED,IAAIa,aAAa,EAAE;QACjBZ,QAAQ,CAAC;UACPU,IAAI,EAAE,sBAAsB;UAAE;UAC9BC,OAAO,EAAE;YAAEP,GAAG,EAAEF,QAAQ,CAACE,GAAG;YAAEN,QAAQ,EAAEI,QAAQ,CAACJ,QAAQ;YAAEC,OAAO,EAAEA;UAAQ;QAC9E,CAAC,CAAC;MACJ,CAAC,MAAM;QACLC,QAAQ,CAAC;UAAEU,IAAI,EAAE,aAAa;UAAEC,OAAO,EAAET;QAAS,CAAC,CAAC;MACtD;IACF;EACF;EAEA,MAAMY,SAAS,GAAGb,QAAQ,CAAC,CAAC,CAACY,WAAW,CAACC,SAAS;EAClDG,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEC,IAAI,CAACC,SAAS,CAACN,SAAS,CAAC,CAAC;AAC9D,CAAC;AAEH,OAAO,MAAMO,cAAc,GAAEC,IAAI,IAAG,CAACtB,QAAQ,EAAGC,QAAQ,KAAG;EACvDD,QAAQ,CACJ;IACIU,IAAI,EAAC,kBAAkB;IAAEC,OAAO,EAACW;EACrC,CACJ,CAAC;EACD,MAAMR,SAAS,GAAEb,QAAQ,CAAC,CAAC,CAACY,WAAW,CAACC,SAAS;EACjDG,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEC,IAAI,CAACC,SAAS,CAACN,SAAS,CAAC,CAAC;AAEhE,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}